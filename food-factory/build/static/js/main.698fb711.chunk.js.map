{"version":3,"sources":["components/Cart/Checkout.module.css","components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/Meals/AvailableMeals/AvailableMeals.module.css","components/Meals/MealItem/MealItem.module.css","components/Layout/Header.module.css","components/UI/Modal/Modal.module.css","components/Meals/MealsSummary/MealsSummary.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Input/Input.module.css","components/UI/Card/Card.module.css","assets/meals.jpg","components/Cart/CartIcon.js","store/cart-context.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/Meals/MealsSummary/MealsSummary.js","components/UI/Input/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/UI/Card/Card.js","hooks/use-fetch.js","components/Meals/AvailableMeals/AvailableMeals.js","components/Meals/Meals.js","components/UI/Modal/Modal.js","components/Cart/CartItem.js","hooks/use-input.js","components/Cart/Checkout.js","components/Cart/Cart.js","store/CartProvider.js","App.js","index.js"],"names":["module","exports","CartIcon","xmlns","viewBox","fill","d","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","clearCart","HeaderCartButton","props","cartCtx","useContext","useState","isAnimated","setIsAnimated","numberOfCartItems","reduce","prevVal","curItem","amount","btnClasses","classes","button","bump","useEffect","length","timer","setTimeout","clearTimeout","className","onClick","icon","badge","Header","header","src","MealImg","alt","MealsSummary","summary","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","useRef","type","min","max","step","defaultValue","form","onSubmit","e","preventDefault","enteredAmount","current","value","undefined","onAddToCart","MealItem","meal","name","description","price","toFixed","Card","card","children","useFetch","isLoading","setIsLoading","error","setError","sendRequest","useCallback","requestConfig","applyData","a","fetch","url","method","body","JSON","stringify","headers","response","ok","Error","json","data","message","AvailableMeals","meals","setMeals","loadMeals","loadedMeals","mealKey","push","fetchMeals","mealList","map","content","loading","Meals","BackDrop","styles","backdrop","Overlay","modal","Modal","Fragment","ReactDOM","createPortal","document","getElementById","CartItem","actions","onRemove","onAdd","initialState","isTouched","inputReducer","prevState","action","useInput","validateFunc","useReducer","inputState","dispatch","inputIsValid","inputInValid","hasError","isValid","changeHandler","target","blurHandler","_","reset","validity","inp","trim","postalValidity","Checkout","nameInput","nameInValid","nameValid","nameChangeHandler","nameBlurHandler","nameReset","streetInput","streetInValid","streetValid","streetChangeHandler","streetBlurHandler","streetReset","postalInput","postalInValid","postalValid","postalChangeHandler","postalBlurHandler","postalReset","cityInput","cityInValid","cityValid","cityChangeHandler","cityBlurHandler","cityReset","formValid","nameClass","control","invalid","streetClass","postalClass","cityClass","event","onConfirm","street","postalCode","city","onChange","onBlur","onCancel","submit","disabled","Cart","showForm","setShowForm","isSubmitting","setIsSubmitting","submitted","setSubmitted","addFood","ignored1","ignored2","hasItems","removeItemHandler","addItemHandler","submitOrderHandler","userData","user","cart","cartItems","bind","cartContent","total","defaultCartState","cartReducer","updatedItems","updatedTotalAmount","existingId","findIndex","existingItem","updatedItem","concat","filter","CartProvider","cartState","dispatchCartState","cartContext","Provider","App","modalVisibility","setModalVisibility","render"],"mappings":"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","file":"static/js/main.698fb711.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__37793\",\"control\":\"Checkout_control__1wnuO\",\"actions\":\"Checkout_actions__2Oyvb\",\"submit\":\"Checkout_submit__2c9cG\",\"invalid\":\"Checkout_invalid__2N_gC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__1z7P8\",\"total\":\"Cart_total__1ysm7\",\"actions\":\"Cart_actions__1UvEv\",\"button--alt\":\"Cart_button--alt__1te6d\",\"button\":\"Cart_button__2UbRw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__297kl\",\"summary\":\"CartItem_summary__iRgiL\",\"price\":\"CartItem_price__f35v1\",\"amount\":\"CartItem_amount__C3heg\",\"actions\":\"CartItem_actions__2RaTz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__2Ux_7\",\"icon\":\"HeaderCartButton_icon__3hFIY\",\"badge\":\"HeaderCartButton_badge__3TP9C\",\"bump\":\"HeaderCartButton_bump__31_X8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__1nhO-\",\"meals-appear\":\"AvailableMeals_meals-appear__4dAsg\",\"loading\":\"AvailableMeals_loading__11Lz2\",\"error\":\"AvailableMeals_error__3cjSf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__2B-JX\",\"description\":\"MealItem_description__hg8Rj\",\"price\":\"MealItem_price__2zPAl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__11764\",\"main-image\":\"Header_main-image__1JB_C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2QrxN\",\"modal\":\"Modal_modal__EROFT\",\"slide-down\":\"Modal_slide-down__UAToh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__1dgv6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__bXcdI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1GAU4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3R3xF\"};","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","const CartIcon = () => {\r\n    return (\r\n        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'>\r\n            <path\r\n                d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z'/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default CartIcon;","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n    items: [],\r\n    totalAmount: 0,\r\n    addItem: (item) => {},\r\n    removeItem: (id) => {},\r\n    clearCart: () => {}\r\n});\r\n\r\nexport default CartContext;","import classes from './HeaderCartButton.module.css';\r\nimport CartIcon from \"../Cart/CartIcon\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n\r\n    const cartCtx = useContext(CartContext);\r\n    const [isAnimated, setIsAnimated] = useState(false);\r\n\r\n    const {items} = cartCtx;\r\n    const numberOfCartItems = items.reduce((prevVal, curItem) => prevVal + curItem.amount, 0)\r\n    const btnClasses = `${classes.button} ${isAnimated ? classes.bump : ''}`\r\n\r\n    useEffect(() => {\r\n        if(items.length === 0) {\r\n            return;\r\n        }\r\n        setIsAnimated(true);\r\n\r\n        const timer = setTimeout(() => {\r\n            setIsAnimated(false);\r\n        }, 300);\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n        }\r\n    }, [items])\r\n\r\n    return (\r\n        <button className={btnClasses} onClick={props.onClick}>\r\n            <span className={classes.icon}>\r\n                <CartIcon/>\r\n            </span>\r\n            <span>Your Cart</span>\r\n            <span className={classes.badge}>{numberOfCartItems}</span>\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default HeaderCartButton;","import {Fragment} from \"react\";\r\nimport classes from \"./Header.module.css\";\r\nimport MealImg from '../../assets/meals.jpg';\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <Fragment>\r\n            <header className={classes.header}>\r\n                <h1>ReactMeals</h1>\r\n                <HeaderCartButton onClick={props.onClick}>Cart</HeaderCartButton>\r\n            </header>\r\n            <div className={classes['main-image']}>\r\n                <img src={MealImg} alt=\"A table of delicious foods!!\"/>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Header;","import classes from './MealsSummary.module.css';\r\n\r\nconst MealsSummary = () => {\r\n    return (\r\n        <section className={classes.summary}>\r\n            <h2>Delicious Food, Delivered To You</h2>\r\n            <p>\r\n                Choose your favorite meal from our broad selection of available meals\r\n                and enjoy a delicious lunch or dinner at home.\r\n            </p>\r\n            <p>\r\n                All our meals are cooked with high-quality ingredients, just-in-time and\r\n                of course by experienced chefs!\r\n            </p>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default MealsSummary;","import classes from \"./Input.module.css\";\r\nimport React from \"react\";\r\n\r\nconst Input = React.forwardRef((props,ref) => {\r\n    return (\r\n        <div className={classes.input}>\r\n            <label htmlFor={props.input.id}>{props.label}</label>\r\n            <input ref={ref} {...props.input}/>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Input;","import classes from \"./MealItemForm.module.css\";\r\nimport Input from \"../../UI/Input/Input\";\r\nimport {useRef, useState} from \"react\";\r\n\r\nconst MealItemForm = (props) => {\r\n\r\n    const [amountIsValid, setAmountIsValid] = useState(true);\r\n\r\n    const amountInputRef = useRef();\r\n\r\n    const input = {\r\n        id: 'amount_' + props.id,\r\n        type: 'number',\r\n        min: '1',\r\n        max: '5',\r\n        step: '1',\r\n        defaultValue: '1'\r\n    }\r\n\r\n    const addItemHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const enteredAmount = +amountInputRef.current.value;\r\n\r\n        if(enteredAmount === undefined || enteredAmount < 1 || enteredAmount > 5) {\r\n            setAmountIsValid(false);\r\n            return;\r\n        }\r\n\r\n        props.onAddToCart(enteredAmount);\r\n    }\r\n\r\n    return (\r\n        <form className={classes.form} onSubmit={addItemHandler}>\r\n            <Input ref={amountInputRef} label='Amount' input={input}/>\r\n            <button>+ Add</button>\r\n            {!amountIsValid && <p>Please enter a valid amount (1-5)</p>}\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default MealItemForm;","import classes from \"./MealItem.module.css\";\r\nimport MealItemForm from \"./MealItemForm\";\r\nimport {useContext} from \"react\";\r\nimport CartContext from \"../../../store/cart-context\";\r\n\r\nconst MealItem = (props) => {\r\n\r\n    const cartCtx = useContext(CartContext);\r\n\r\n    const addItemHandler = (enteredAmount) => {\r\n        cartCtx.addItem({\r\n            id: props.id,\r\n            name: props.name,\r\n            price: props.price,\r\n            amount: enteredAmount\r\n        });\r\n    }\r\n\r\n    return (\r\n        <li className={classes.meal}>\r\n            <div>\r\n                <h3>{props.name}</h3>\r\n                <div className={classes.description}>{props.description}</div>\r\n                <div className={classes.price}>${props.price.toFixed(2)}</div>\r\n            </div>\r\n            <div>\r\n                <MealItemForm id={props.id} onAddToCart={addItemHandler} />\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default MealItem;","import React from 'react';\r\n\r\nimport classes from './Card.module.css';\r\n\r\nconst Card = (props) => {\r\n    return (\r\n        <div className={`${classes.card} ${props.className}`}>{props.children}</div>\r\n    );\r\n};\r\n\r\nexport default Card;","import {useCallback, useState} from \"react\";\r\n\r\nconst useFetch = () => {\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const sendRequest = useCallback(async (requestConfig, applyData) => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const response = await fetch(\r\n                requestConfig.url,\r\n                {\r\n                    method: requestConfig.method ? requestConfig.method : 'GET',\r\n                    body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n                    headers: requestConfig.headers ? requestConfig.headers : {}\r\n                }\r\n            );\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Request failed!');\r\n            }\r\n\r\n            const data = await response.json();\r\n            applyData(data);\r\n        } catch (err) {\r\n            setError(err.message || 'Something went wrong!');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    return {\r\n        isLoading, error, sendRequest\r\n    }\r\n}\r\n\r\nexport default useFetch;","import classes from \"./AvailableMeals.module.css\";\r\nimport MealItem from \"../MealItem/MealItem\";\r\nimport Card from \"../../UI/Card/Card\";\r\nimport useFetch from \"../../../hooks/use-fetch\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nconst AvailableMeals = () => {\r\n\r\n    const [meals, setMeals] = useState([]);\r\n\r\n    const loadMeals = (data) => {\r\n        const loadedMeals = [];\r\n\r\n        for (const mealKey in data) {\r\n            loadedMeals.push({\r\n                id: mealKey,\r\n                name: data[mealKey].name,\r\n                description: data[mealKey].description,\r\n                price: data[mealKey].price\r\n            });\r\n        }\r\n\r\n        setMeals(loadedMeals);\r\n    }\r\n\r\n    const {isLoading, error, sendRequest: fetchMeals} = useFetch();\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            await fetchMeals({url: 'https://react-http-d4388-default-rtdb.firebaseio.com/meals.json'}, loadMeals)\r\n        })()\r\n    }, [fetchMeals]);\r\n\r\n    let mealList = <h2>No meals found. Start adding some!</h2>;\r\n\r\n    if (meals.length > 0) {\r\n        mealList = (\r\n            <ul>\r\n                {meals.map(meal => (\r\n                        <MealItem id={meal.id} key={meal.id} name={meal.name} description={meal.description}\r\n                                  price={meal.price}/>\r\n                    )\r\n                )}\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    let content = mealList;\r\n\r\n    if (error) {\r\n        content = <p className={classes.error}>Failed to fetch data!!!</p>;\r\n    }\r\n\r\n    if (isLoading) {\r\n        content = <p className={classes.loading}>Loading meals...</p>;\r\n    }\r\n\r\n    return (\r\n        <Card className={classes.meals}>\r\n            {content}\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default AvailableMeals;","import {Fragment} from \"react\";\r\nimport MealsSummary from \"./MealsSummary/MealsSummary\";\r\nimport AvailableMeals from \"./AvailableMeals/AvailableMeals\";\r\n\r\nconst Meals = () => {\r\n    return (\r\n        <Fragment>\r\n            <MealsSummary />\r\n            <AvailableMeals />\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Meals;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport styles from './Modal.module.css';\r\nimport Card from \"../Card/Card\";\r\n\r\nconst BackDrop = props => {\r\n    return (<div className={styles.backdrop} onClick={props.onClick}>\r\n    </div>)\r\n}\r\n\r\nconst Overlay = props => {\r\n    return (\r\n        <Card className={styles.modal}>\r\n            {props.children}\r\n        </Card>\r\n    )\r\n}\r\n\r\nconst Modal = (props) => {\r\n    return (\r\n        <React.Fragment>\r\n            {ReactDOM.createPortal(<BackDrop onClick={props.onClick}/>, document.getElementById('backdrop-root'))}\r\n            {ReactDOM.createPortal(<Overlay>{props.children}</Overlay>, document.getElementById('overlay-root'))}\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Modal;","import classes from './CartItem.module.css';\r\n\r\nconst CartItem = (props) => {\r\n\r\n    return (\r\n        <li className={classes['cart-item']}>\r\n            <div>\r\n                <h2>{props.name}</h2>\r\n                <div className={classes.summary}>\r\n                    <span className={classes.price}>${props.price.toFixed(2)}</span>\r\n                    <span className={classes.amount}>x {props.amount}</span>\r\n                </div>\r\n            </div>\r\n            <div className={classes.actions}>\r\n                <button onClick={props.onRemove}>âˆ’</button>\r\n                <button onClick={props.onAdd}>+</button>\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default CartItem;","import {useReducer} from \"react\";\r\n\r\nconst initialState = {\r\n    value: '',\r\n    isTouched: false\r\n}\r\n\r\nconst inputReducer = (prevState, action) => {\r\n    if (action.type === 'CHANGE') {\r\n        return {value: action.value, isTouched: prevState.isTouched}\r\n    }\r\n    if (action.type === 'BLUR') {\r\n        return {value: prevState.value, isTouched: true}\r\n    }\r\n    return initialState;\r\n}\r\n\r\nconst useInput = (validateFunc) => {\r\n\r\n    const [inputState, dispatch] = useReducer(inputReducer, initialState, undefined);\r\n\r\n    const inputIsValid = validateFunc(inputState.value);\r\n    const inputInValid = !inputIsValid && inputState.isTouched;\r\n\r\n    // handles in every key stroke\r\n    const changeHandler = (e) => {\r\n        dispatch({\r\n            type: 'CHANGE',\r\n            value: e.target.value\r\n        })\r\n    }\r\n\r\n    // handle when lost focus\r\n    const blurHandler = (_) => {\r\n        dispatch({\r\n            type: 'BLUR'\r\n        })\r\n    }\r\n\r\n    // resetting while submitting\r\n    const reset = () => {\r\n        dispatch({\r\n            type: 'RESET'\r\n        })\r\n    }\r\n\r\n    return {\r\n        value: inputState.value,\r\n        hasError: inputInValid,\r\n        isValid: inputIsValid,\r\n        changeHandler,\r\n        blurHandler,\r\n        reset\r\n    }\r\n}\r\n\r\nexport default useInput;","import classes from './Checkout.module.css';\nimport useInput from \"../../hooks/use-input\";\n\nconst validity = inp => inp.trim() !== '';\nconst postalValidity = inp => inp.trim().length === 4;\n\nconst Checkout = (props) => {\n\n    const {\n        value: nameInput,\n        hasError: nameInValid,\n        isValid: nameValid,\n        changeHandler: nameChangeHandler,\n        blurHandler: nameBlurHandler,\n        reset: nameReset\n    } = useInput(validity);\n\n    const {\n        value: streetInput,\n        hasError: streetInValid,\n        isValid: streetValid,\n        changeHandler: streetChangeHandler,\n        blurHandler: streetBlurHandler,\n        reset: streetReset\n    } = useInput(validity);\n\n    const {\n        value: postalInput,\n        hasError: postalInValid,\n        isValid: postalValid,\n        changeHandler: postalChangeHandler,\n        blurHandler: postalBlurHandler,\n        reset: postalReset\n    } = useInput(postalValidity);\n\n    const {\n        value: cityInput,\n        hasError: cityInValid,\n        isValid: cityValid,\n        changeHandler: cityChangeHandler,\n        blurHandler: cityBlurHandler,\n        reset: cityReset\n    } = useInput(validity);\n\n    let formValid = false;\n\n    if (nameValid && streetValid && postalValid && cityValid) {\n        formValid = true;\n    }\n\n    const confirmHandler = (event) => {\n        event.preventDefault();\n\n        if (!formValid) {\n            return;\n        }\n\n        props.onConfirm({\n            name: nameInput,\n            street: streetInput,\n            postalCode: postalInput,\n            city: cityInput\n        })\n\n        nameReset();\n        streetReset();\n        postalReset();\n        cityReset();\n    };\n\n    const nameClass = nameInValid ? `${classes.control} ${classes.invalid}` : `${classes.control}`;\n    const streetClass = streetInValid ? `${classes.control} ${classes.invalid}` : `${classes.control}`;\n    const postalClass = postalInValid ? `${classes.control} ${classes.invalid}` : `${classes.control}`;\n    const cityClass = cityInValid ? `${classes.control} ${classes.invalid}` : `${classes.control}`;\n\n    return (\n        <form className={classes.form} onSubmit={confirmHandler}>\n            <div className={nameClass}>\n                <label htmlFor='name'>Your Name</label>\n                <input type='text' id='name' value={nameInput} onChange={nameChangeHandler} onBlur={nameBlurHandler}/>\n            </div>\n            {nameInValid && <p className='error-text'>Name must not be empty</p>}\n\n            <div className={streetClass}>\n                <label htmlFor='street'>Street</label>\n                <input type='text' id='street' value={streetInput} onChange={streetChangeHandler}\n                       onBlur={streetBlurHandler}/>\n            </div>\n            {streetInValid && <p className='error-text'>Street must not be empty</p>}\n\n            <div className={postalClass}>\n                <label htmlFor='postal'>Postal Code</label>\n                <input type='text' id='postal' value={postalInput} onChange={postalChangeHandler}\n                       onBlur={postalBlurHandler}/>\n            </div>\n            {postalInValid && <p className='error-text'>Please correctly enter postal code(4 digit)</p>}\n\n            <div className={cityClass}>\n                <label htmlFor='city'>City</label>\n                <input type='text' id='city' value={cityInput} onChange={cityChangeHandler} onBlur={cityBlurHandler}/>\n            </div>\n            {cityInValid && <p className='error-text'>City must not be empty</p>}\n\n            <div className={classes.actions}>\n                <button type='button' onClick={props.onCancel}>Cancel</button>\n                <button className={classes.submit} disabled={!formValid}>Confirm</button>\n            </div>\n        </form>\n    );\n};\n\nexport default Checkout;","import classes from \"./Cart.module.css\";\r\nimport Modal from \"../UI/Modal/Modal\";\r\nimport CartItem from \"./CartItem\";\r\nimport {Fragment, useContext, useState} from \"react\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport Checkout from \"./Checkout\";\r\nimport useFetch from \"../../hooks/use-fetch\";\r\n\r\nconst Cart = (props) => {\r\n\r\n    const cartCtx = useContext(CartContext);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    const {ignored1, ignored2, sendRequest: addFood} = useFetch();\r\n\r\n    const hasItems = cartCtx.items.length > 0;\r\n\r\n    const removeItemHandler = id => {\r\n        cartCtx.removeItem(id)\r\n    }\r\n\r\n    const addItemHandler = item => {\r\n        cartCtx.addItem({\r\n            ...item,\r\n            amount: 1\r\n        });\r\n    }\r\n\r\n    const showFormHandler = (e) => {\r\n        e.preventDefault();\r\n        setShowForm(true);\r\n    }\r\n\r\n    const hideFormHandler = () => {\r\n        setShowForm(false);\r\n    }\r\n\r\n    const submitOrderHandler = async userData => {\r\n        setIsSubmitting(true);\r\n        await addFood({\r\n            url: 'https://react-http-d4388-default-rtdb.firebaseio.com/orders.json',\r\n            method: 'POST',\r\n            body: {\r\n                user: userData,\r\n                cart: cartCtx.items\r\n            },\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        }, undefined);\r\n\r\n        setIsSubmitting(false);\r\n        setSubmitted(true);\r\n        cartCtx.clearCart();\r\n    }\r\n\r\n    const cartItems = <ul className={classes['cart-items']}>\r\n        {cartCtx.items.map(item => (\r\n            <CartItem key={item.id} name={item.name} price={item.price}\r\n                      amount={item.amount} onRemove={removeItemHandler.bind(null, item.id)}\r\n                      onAdd={addItemHandler.bind(null, item)}/>\r\n        ))}\r\n    </ul>\r\n\r\n    let cartContent = <Fragment>\r\n        {cartItems}\r\n        <div className={classes.total}>\r\n            <span>Total Amount</span>\r\n            <span>${cartCtx.totalAmount.toFixed(2)}</span>\r\n        </div>\r\n\r\n        {isSubmitting && !submitted && <p>Checking out the order...</p>}\r\n        {!isSubmitting && submitted &&\r\n        <div className={classes.actions}>\r\n            <p>Successfully checked out</p>\r\n            <button className={classes['button--alt']} onClick={props.onClick}>Close</button>\r\n        </div>\r\n        }\r\n\r\n        {!isSubmitting && !submitted && showForm &&\r\n        <Checkout onCancel={hideFormHandler} onConfirm={submitOrderHandler}/>}\r\n\r\n        {!showForm &&\r\n        <div className={classes.actions}>\r\n            <button className={classes['button--alt']} onClick={props.onClick}>Close</button>\r\n            {hasItems &&\r\n            <button className={classes.button} onClick={showFormHandler}>Order</button>}\r\n        </div>\r\n        }\r\n    </Fragment>;\r\n\r\n    return (\r\n        <Modal onClick={props.onClick}>\r\n            {cartContent}\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default Cart;","import CartContext from \"./cart-context\";\r\nimport {useReducer} from \"react\";\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0\r\n}\r\n\r\nconst cartReducer = (prevState, action) => {\r\n    if (action.type === 'ADD') {\r\n        const updatedTotalAmount = prevState.totalAmount + action.item.price * action.item.amount;\r\n\r\n        let updatedItems;\r\n        const existingId = prevState.items.findIndex(item => item.id === action.item.id);\r\n        const existingItem = prevState.items[existingId]\r\n\r\n        if (existingItem) {\r\n            const updatedItem = {\r\n                ...existingItem,\r\n                amount: existingItem.amount + action.item.amount\r\n            }\r\n            updatedItems = [...prevState.items];\r\n            updatedItems[existingId] = updatedItem;\r\n        } else {\r\n            updatedItems = prevState.items.concat(action.item);\r\n        }\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount\r\n        }\r\n    }\r\n\r\n    if (action.type === 'REMOVE') {\r\n        const existingId = prevState.items.findIndex((item) => item.id === action.id);\r\n        const existingItem = prevState.items[existingId];\r\n        const updatedTotalAmount = prevState.totalAmount - existingItem.price;\r\n\r\n        let updatedItems;\r\n        if (existingItem.amount === 1) {\r\n            updatedItems = prevState.items.filter(item => item.id !== action.id);\r\n        } else {\r\n            const updatedItem = {...existingItem, amount: existingItem.amount - 1};\r\n            updatedItems = [...prevState.items];\r\n            updatedItems[existingId] = updatedItem;\r\n        }\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount\r\n        };\r\n    }\r\n\r\n    return defaultCartState;\r\n}\r\n\r\nconst CartProvider = props => {\r\n\r\n    const [cartState, dispatchCartState] = useReducer(cartReducer, defaultCartState, undefined);\r\n\r\n    const addToCart = item => {\r\n        dispatchCartState({type: 'ADD', item: item})\r\n    }\r\n\r\n    const removeFromCart = id => {\r\n        dispatchCartState({type: 'REMOVE', id: id})\r\n    }\r\n\r\n    const clearCart = () => {\r\n        dispatchCartState({type: 'CLEAR'})\r\n    }\r\n\r\n    const cartContext = {\r\n        items: cartState.items,\r\n        totalAmount: cartState.totalAmount,\r\n        addItem: addToCart,\r\n        removeItem: removeFromCart,\r\n        clearCart\r\n    }\r\n\r\n    return (\r\n        <CartContext.Provider value={cartContext}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    )\r\n}\r\n\r\nexport default CartProvider;","import {useState} from \"react\";\nimport Header from \"./components/Layout/Header\";\nimport Meals from \"./components/Meals/Meals\";\nimport Cart from \"./components/Cart/Cart\";\nimport CartProvider from \"./store/CartProvider\";\n\nfunction App() {\n\n    const [modalVisibility, setModalVisibility] = useState(false);\n\n    const showCart = () => {\n        setModalVisibility(true)\n    }\n\n    const hideCart = () => {\n        setModalVisibility(false)\n    }\n\n    return (\n        <CartProvider>\n            {modalVisibility && <Cart onClick={hideCart}/>}\n            <Header onClick={showCart}/>\n            <main>\n                <Meals/>\n            </main>\n        </CartProvider>\n    );\n}\n\nexport default App;","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}